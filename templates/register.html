{% extends "base.html" %}

{% block header %}
    <link rel="stylesheet" href="/static/css/styles.css"/>
{% endblock header %}


{% block content %}
<script src="/static/js/autocomplete.js"></script>
<br>
<h2 class="container-fluid">Register</h2>
<div class=" inst container-fluid"><span class="redText">Please fill each field with the correct information.</span></div>
<br>
<div class="container-fluid">
<form action='/register' method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group row justify-content-center">
        {{ form.fname.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.fname(class="form-control") }}
            {% for error in form.fname.errors %}
            <span style="color:red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.lname.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.lname(class="form-control") }}
            {% for error in form.lname.errors %}
            <span style="color:red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.email.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.email(class="form-control") }}
            {% for error in form.email.errors %}
            <span style="color:red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.password.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.password(class="form-control") }}
            {% for error in form.password.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.password2.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.password2(class="form-control") }}
            {% for error in form.password2.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.street.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.street(class="form-control") }}
            {% for error in form.street.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.city.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.city(class="form-control") }}
            {% for error in form.city.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.state.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.state(class="form-control") }}
            {% for error in form.state.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>  

    <div class="form-group row justify-content-center">
        {{ form.zipcode.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.zipcode(class="form-control") }}
            {% for error in form.zipcode.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        {{ form.politicalparty.label(class="col-sm-1 col-form-label") }}
        <div class="col-sm-4">
            {{ form.politicalparty(class="form-control") }}
            {% for error in form.politicalparty.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>

    <div class="form-group row justify-content-center">
        <div class="col-sm-0">
            {{ form.submit(class="btn btn-info") }}
        </div>
    </div>
</form>
</div>

<script>

///initiating the autocomplete function along with inputPoliticalParty element
autocomplete(document.getElementById("inputPoliticalParty"), parties);

form.addListening("submit", function(evt) {
    if (form.checkValidity() === false) {
        evt.preventDefault();
        alert("Form is invalid - please fill in required fields!");
        return false;
    }
});

</script>

{% endblock %}